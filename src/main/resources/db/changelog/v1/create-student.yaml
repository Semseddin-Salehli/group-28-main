databaseChangeLog:
  - changeSet:
      id: create-student-table
      author: Semseddin
      changes:
        - createTable:
            schemaName: qrup28
            tableName: student

            columns:
              - column:
                  name: id
                  type: int
              - column:
                  name: name
                  type: varchar(100)
              - column:
                  name: surname
                  type: varchar(100)
              - column:
                  name: address
                  type: varchar(100)
              - column:
                  name: phone
                  type: varchar(50)
              - column:
                  name: age
                  type: int
              - column:
                  name: series_id
                  type: int
              - column:
                  name: school_class_id
                  type: int
        - addPrimaryKey:
            columnNames: id
            constraintName: pk_student_class
            schemaName: qrup28
            tableName: student
            validate: true
        - addAutoIncrement:
            columnDataType: int
            columnName: id
            defaultOnNull: false
            generationType: ALWAYS
            incrementBy: 1
            schemaName: qrup28
            startWith: 1
            tableName: student

        - addForeignKeyConstraint:
            baseColumnNames: series_id
            baseTableName: student
            baseTableSchemaName: qrup28
            constraintName: fk_student_series
            onDelete: CASCADE
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: series
            referencedTableSchemaName: qrup28
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: school_class_id
            baseTableName: student
            baseTableSchemaName: qrup28
            constraintName: fk_student_class
            onDelete: CASCADE
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: class
            referencedTableSchemaName: qrup28
            validate: true